- hosts: all
  gather_facts: true
  vars:
    ansible_become: no
    ansible_ssh_common_args: "-o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no"

    hostList: "{{ lookup('file', 'vars/test.json') }}"

  tasks:

  - name: "Output all hostList as-is"
    debug:
      msg: "{{ hostList }}"

  - name: "Print all hostnames"
    debug:
      msg: "{{ item.hostname }}"
    loop: "{{ hostList }}"
    loop_control:
      label: "{{ item.hostname }}"